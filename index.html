<!-- Ø£Ø¶Ù Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ù…Ù„Ù index.html Ù‚Ø¨Ù„ Ø¥ØºÙ„Ø§Ù‚ </body> -->

<!-- Firebase Configuration and Initialization -->
<script type="module">
    // Import Firebase modules
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import { 
        getAuth, 
        signInWithPopup, 
        GoogleAuthProvider, 
        signOut, 
        onAuthStateChanged,
        signInWithEmailAndPassword,
        createUserWithEmailAndPassword,
        updateProfile
    } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import { 
        getFirestore, 
        doc, 
        setDoc, 
        getDoc, 
        updateDoc,
        collection,
        getDocs,
        query,
        where,
        orderBy,
        addDoc,
        deleteDoc
    } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
    import { 
        getStorage, 
        ref, 
        uploadBytes, 
        getDownloadURL 
    } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';

    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyBAcPzPzIDYHvezf5klAwFzU0gmoo_AsCo",
        authDomain: "fouad-academy.firebaseapp.com",
        projectId: "fouad-academy",
        storageBucket: "fouad-academy.firebasestorage.app",
        messagingSenderId: "553738647199",
        appId: "1:553738647199:web:4e73c59b115da5be15d4aa",
        measurementId: "G-M0VML1SRZ4"
    };

    // Initialize Firebase
    let app, auth, db, storage;
    
    try {
        app = initializeApp(firebaseConfig);
        auth = getAuth(app);
        db = getFirestore(app);
        storage = getStorage(app);
        
        // ØªØµØ¯ÙŠØ± Firebase Ù„Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¹Ø§Ù…
        window.firebaseApp = app;
        window.firebaseAuth = auth;
        window.firebaseDb = db;
        window.firebaseStorage = storage;
        
        // ØªØµØ¯ÙŠØ± Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ auth.js
        window.firebaseAuthFunctions = {
            signInWithPopup,
            GoogleAuthProvider,
            signOut,
            onAuthStateChanged,
            signInWithEmailAndPassword,
            createUserWithEmailAndPassword,
            updateProfile
        };
        
        window.firebaseFirestoreFunctions = {
            doc,
            setDoc,
            getDoc,
            updateDoc,
            collection,
            getDocs,
            query,
            where,
            orderBy,
            addDoc,
            deleteDoc
        };
        
        window.firebaseStorageFunctions = {
            ref,
            uploadBytes,
            getDownloadURL
        };
        
        console.log('ğŸ”¥ Firebase ØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡ ÙˆØªÙ‡ÙŠØ¦ØªÙ‡ Ø¨Ù†Ø¬Ø§Ø­!');
        
        // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ù†Ø¬Ø§Ø­ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        setTimeout(() => {
            const indicator = document.createElement('div');
            indicator.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: #10b981;
                color: white;
                padding: 0.5rem 1rem;
                border-radius: 8px;
                font-size: 0.8rem;
                z-index: 9999;
                animation: fadeInOut 3s ease;
            `;
            indicator.textContent = 'ğŸ”¥ Firebase Ù…ØªØµÙ„';
            
            const fadeAnimation = document.createElement('style');
            fadeAnimation.textContent = `
                @keyframes fadeInOut {
                    0%, 100% { opacity: 0; }
                    20%, 80% { opacity: 1; }
                }
            `;
            document.head.appendChild(fadeAnimation);
            document.body.appendChild(indicator);
            
            setTimeout(() => indicator.remove(), 3000);
        }, 1000);
        
    } catch (error) {
        console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Firebase:', error);
        
        // Ø¥Ø´Ø¹Ø§Ø± Ø¨ÙØ´Ù„ Firebase
        setTimeout(() => {
            const errorIndicator = document.createElement('div');
            errorIndicator.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: #ef4444;
                color: white;
                padding: 0.5rem 1rem;
                border-radius: 8px;
                font-size: 0.8rem;
                z-index: 9999;
            `;
            errorIndicator.textContent = 'âš ï¸ Firebase ØºÙŠØ± Ù…ØªØµÙ„';
            document.body.appendChild(errorIndicator);
            
            setTimeout(() => errorIndicator.remove(), 5000);
        }, 1000);
    }
    
    // Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
    window.addEventListener('online', () => {
        console.log('ğŸŒ ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª');
    });
    
    window.addEventListener('offline', () => {
        console.log('ğŸ“¡ ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª');
    });

</script>

<!-- ØªØ­Ù…ÙŠÙ„ Ù…Ù„ÙØ§Øª JavaScript Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„ØµØ­ÙŠØ­ -->
<script src="shared/js/main.js"></script>
<script src="shared/js/auth.js"></script>

<!-- Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ù„Ø¶Ù…Ø§Ù† ØªØ­Ù…ÙŠÙ„ auth.js Ø¨Ø¹Ø¯ Firebase -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Firebase Ù‚Ø¨Ù„ ØªØ´ØºÙŠÙ„ auth.js
    function checkFirebaseReady() {
        if (window.firebaseApp && window.firebaseAuth && window.firebaseDb) {
            console.log('âœ… Firebase Ø¬Ø§Ù‡Ø² - ØªØ´ØºÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©');
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±
            if (window.fouadAuth && typeof window.fouadAuth.init === 'function') {
                // Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø­Ù…Ù„ Ø¨Ø§Ù„ÙØ¹Ù„
                console.log('ğŸ”„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ù…Ø­Ù…Ù„ ÙˆÙ…Ø¬Ù‡Ø²');
            }
        } else {
            console.log('â³ Ø§Ù†ØªØ¸Ø§Ø± ØªØ­Ù…ÙŠÙ„ Firebase...');
            setTimeout(checkFirebaseReady, 100);
        }
    }
    
    // Ø¨Ø¯Ø¡ ÙØ­Øµ Firebase
    setTimeout(checkFirebaseReady, 500);
    
    // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ù„Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù…Ø©
    window.addEventListener('error', function(event) {
        console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:', event.error);
    });
    
    // Ù…Ø¹Ø§Ù„Ø¬ Ù„Ù„ÙˆØ¹ÙˆØ¯ Ø§Ù„Ù…Ø±ÙÙˆØ¶Ø©
    window.addEventListener('unhandledrejection', function(event) {
        console.error('ÙˆØ¹Ø¯ Ù…Ø±ÙÙˆØ¶:', event.reason);
    });
});
</script>
