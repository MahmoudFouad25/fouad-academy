<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุฅุฏุงุฑุฉ - ููุตุฉ ุงููุคุงุฏ ุงูุชุนููููุฉ</title>
    <link rel="stylesheet" href="../shared/css/main.css">
    <link rel="stylesheet" href="../shared/css/admin.css">
</head>
<body class="admin-body">
    <!-- ุดุฑูุท ุงูุชููู ุงูุฅุฏุงุฑู -->
    <nav class="admin-nav">
        <div class="admin-nav-container">
            <div class="admin-nav-brand">
                <img src="../shared/images/logo.png" alt="ุดุนุงุฑ ุงูููุตุฉ" class="nav-logo">
                <h1>ููุญุฉ ุงูุฅุฏุงุฑุฉ</h1>
            </div>
            
            <div class="admin-nav-menu">
                <a href="#dashboard" class="admin-nav-link active" data-page="dashboard">
                    <span class="nav-icon">๐</span>
                    ุงูุฑุฆูุณูุฉ
                </a>
                <a href="#courses" class="admin-nav-link" data-page="courses">
                    <span class="nav-icon">๐</span>
                    ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช
                </a>
                <a href="#users" class="admin-nav-link" data-page="users">
                    <span class="nav-icon">๐ฅ</span>
                    ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
                </a>
                <a href="#payments" class="admin-nav-link" data-page="payments">
                    <span class="nav-icon">๐ณ</span>
                    ุงููุฏููุนุงุช
                </a>
                <a href="#content" class="admin-nav-link" data-page="content">
                    <span class="nav-icon">๐</span>
                    ุงููุญุชูู
                </a>
                <a href="#analytics" class="admin-nav-link" data-page="analytics">
                    <span class="nav-icon">๐</span>
                    ุงูุชูุงุฑูุฑ
                </a>
            </div>
            
            <div class="admin-nav-user">
                <div class="user-avatar" id="adminAvatar">ู</div>
                <div class="user-info">
                    <span class="user-name" id="adminName">ูุญููุฏ ูุคุงุฏ</span>
                    <span class="user-role">ูุฏูุฑ ุงูููุตุฉ</span>
                </div>
                <div class="user-actions">
                    <button class="btn-icon" onclick="toggleNotifications()" title="ุงูุฅุดุนุงุฑุงุช">
                        <span class="notification-icon">๐</span>
                        <span class="notification-badge" id="notificationCount">3</span>
                    </button>
                    <button class="btn-icon" onclick="toggleUserMenu()" title="ุงููุงุฆูุฉ">
                        <span>โ๏ธ</span>
                    </button>
                    <a href="../index.html" class="btn btn-outline-light">ุงูุนูุฏุฉ ูููููุน</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="admin-main">
        <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
        <aside class="admin-sidebar">
            <div class="sidebar-section">
                <h3>ุงูุฅุญุตุงุฆูุงุช ุงูุณุฑูุนุฉ</h3>
                <div class="quick-stats">
                    <div class="stat-card mini">
                        <span class="stat-icon">๐ฅ</span>
                        <div class="stat-info">
                            <span class="stat-number" id="totalUsersQuick">0</span>
                            <span class="stat-label">ูุณุชุฎุฏู</span>
                        </div>
                    </div>
                    <div class="stat-card mini">
                        <span class="stat-icon">๐</span>
                        <div class="stat-info">
                            <span class="stat-number" id="totalCoursesQuick">0</span>
                            <span class="stat-label">ุฏูุฑุฉ</span>
                        </div>
                    </div>
                    <div class="stat-card mini">
                        <span class="stat-icon">๐ฐ</span>
                        <div class="stat-info">
                            <span class="stat-number" id="totalRevenueQuick">0</span>
                            <span class="stat-label">ุฌููู</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ</h3>
                <div class="quick-actions">
                    <button class="btn btn-primary btn-full" onclick="showCreateCourseModal()">
                        <span>โ</span> ุฅูุดุงุก ุฏูุฑุฉ ุฌุฏูุฏุฉ
                    </button>
                    <button class="btn btn-outline btn-full" onclick="showBulkActionsModal()">
                        <span>โก</span> ุฅุฌุฑุงุกุงุช ูุฌูุนุฉ
                    </button>
                    <button class="btn btn-success btn-full" onclick="exportData()">
                        <span>๐</span> ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ
                    </button>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>ุขุฎุฑ ุงูุฃูุดุทุฉ</h3>
                <div class="recent-activities" id="recentActivities">
                    <!-- ุณุชูุญููู ุฏููุงููููุงู -->
                </div>
            </div>
        </aside>

        <!-- ุงููุญุชูู ุงููุฑูุฒู -->
        <div class="admin-content">
            <!-- ุตูุญุฉ ุงูุฑุฆูุณูุฉ -->
            <div id="dashboardPage" class="admin-page active">
                <div class="page-header">
                    <h1>ููุญุฉ ุงูุฅุฏุงุฑุฉ ุงูุฑุฆูุณูุฉ</h1>
                    <p>ูุฑุญุจุงู ุจู ูู ููุญุฉ ุฅุฏุงุฑุฉ ููุตุฉ ุงููุคุงุฏ ุงูุชุนููููุฉ</p>
                </div>

                <!-- ุงูุฅุญุตุงุฆูุงุช ุงูุฑุฆูุณูุฉ -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-icon">๐ฅ</span>
                            <h3>ุฅุฌูุงูู ุงููุณุชุฎุฏููู</h3>
                        </div>
                        <div class="stat-body">
                            <span class="stat-number" id="totalUsers">0</span>
                            <span class="stat-change positive" id="usersChange">+12%</span>
                        </div>
                        <div class="stat-footer">
                            <span class="stat-period">ููุฐ ุงูุดูุฑ ุงููุงุถู</span>
                            <button class="btn-link" onclick="navigateToPage('users')">ุนุฑุถ ุงูุชูุงุตูู</button>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-icon">๐</span>
                            <h3>ุงูุฏูุฑุงุช ุงููุชุงุญุฉ</h3>
                        </div>
                        <div class="stat-body">
                            <span class="stat-number" id="totalCourses">0</span>
                            <span class="stat-change positive" id="coursesChange">+5%</span>
                        </div>
                        <div class="stat-footer">
                            <span class="stat-period">ููุฐ ุงูุดูุฑ ุงููุงุถู</span>
                            <button class="btn-link" onclick="navigateToPage('courses')">ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช</button>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-icon">๐ฐ</span>
                            <h3>ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช</h3>
                        </div>
                        <div class="stat-body">
                            <span class="stat-number" id="totalRevenue">0</span>
                            <span class="stat-change positive" id="revenueChange">+18%</span>
                        </div>
                        <div class="stat-footer">
                            <span class="stat-period">ููุฐ ุงูุดูุฑ ุงููุงุถู</span>
                            <button class="btn-link" onclick="navigateToPage('payments')">ุนุฑุถ ุงููุฏููุนุงุช</button>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-icon">โญ</span>
                            <h3>ูุชูุณุท ุงูุชูููู</h3>
                        </div>
                        <div class="stat-body">
                            <span class="stat-number" id="averageRating">4.8</span>
                            <span class="stat-change positive" id="ratingChange">+0.2</span>
                        </div>
                        <div class="stat-footer">
                            <span class="stat-period">ูู ุฃุตู 5 ูุฌูู</span>
                            <button class="btn-link" onclick="navigateToPage('analytics')">ุนุฑุถ ุงูุชูุงุตูู</button>
                        </div>
                    </div>
                </div>

                <!-- ุงูุฑุณูู ุงูุจูุงููุฉ -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>ููู ุงููุณุชุฎุฏููู</h3>
                            <div class="chart-controls">
                                <select class="chart-period">
                                    <option value="7d">ุขุฎุฑ 7 ุฃูุงู</option>
                                    <option value="30d" selected>ุขุฎุฑ 30 ููู</option>
                                    <option value="90d">ุขุฎุฑ 3 ุฃุดูุฑ</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-body">
                            <canvas id="usersChart" width="400" height="200"></canvas>
                        </div>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ</h3>
                            <div class="chart-controls">
                                <select class="chart-period">
                                    <option value="6m" selected>ุขุฎุฑ 6 ุฃุดูุฑ</option>
                                    <option value="12m">ุขุฎุฑ ุณูุฉ</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-body">
                            <canvas id="revenueChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>

                <!-- ุงูุฌุฏุงูู ุงูุชูุงุนููุฉ -->
                <div class="dashboard-tables">
                    <div class="table-card">
                        <div class="table-header">
                            <h3>ุฃุญุฏุซ ุงูุชุณุฌููุงุช</h3>
                            <button class="btn btn-outline" onclick="navigateToPage('users')">ุนุฑุถ ุงููู</button>
                        </div>
                        <div class="table-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ุงุณู ุงููุณุชุฎุฏู</th>
                                        <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                        <th>ุชุงุฑูุฎ ุงูุชุณุฌูู</th>
                                        <th>ุงูุญุงูุฉ</th>
                                    </tr>
                                </thead>
                                <tbody id="recentUsersTable">
                                    <!-- ุณุชูุญููู ุฏููุงููููุงู -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="table-card">
                        <div class="table-header">
                            <h3>ุฃุดูุฑ ุงูุฏูุฑุงุช</h3>
                            <button class="btn btn-outline" onclick="navigateToPage('courses')">ุนุฑุถ ุงููู</button>
                        </div>
                        <div class="table-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ุงุณู ุงูุฏูุฑุฉ</th>
                                        <th>ุงููุดุชุฑููู</th>
                                        <th>ุงูุชูููู</th>
                                        <th>ุงูุญุงูุฉ</th>
                                    </tr>
                                </thead>
                                <tbody id="popularCoursesTable">
                                    <!-- ุณุชูุญููู ุฏููุงููููุงู -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช -->
            <div id="coursesPage" class="admin-page">
                <div class="page-header">
                    <h1>ุฅุฏุงุฑุฉ ุงูุฏูุฑุงุช ุงูุชุฏุฑูุจูุฉ</h1>
                    <div class="page-actions">
                        <button class="btn btn-primary" onclick="showCreateCourseModal()">
                            <span>โ</span> ุฅูุดุงุก ุฏูุฑุฉ ุฌุฏูุฏุฉ
                        </button>
                        <button class="btn btn-outline" onclick="importCourses()">
                            <span>๐ฅ</span> ุงุณุชูุฑุงุฏ ุฏูุฑุงุช
                        </button>
                        <button class="btn btn-success" onclick="exportCourses()">
                            <span>๐ค</span> ุชุตุฏูุฑ ุงูุฏูุฑุงุช
                        </button>
                    </div>
                </div>

                <!-- ุฃุฏูุงุช ุงูุจุญุซ ูุงูููุชุฑุฉ -->
                <div class="filters-section">
                    <div class="search-box">
                        <input type="text" id="courseSearch" placeholder="ุงูุจุญุซ ูู ุงูุฏูุฑุงุช..." class="search-input">
                        <button class="search-btn" onclick="searchCourses()">๐</button>
                    </div>
                    
                    <div class="filters-row">
                        <select id="statusFilter" class="filter-select" onchange="filterCourses()">
                            <option value="">ุฌููุน ุงูุญุงูุงุช</option>
                            <option value="active">ูุดุทุฉ</option>
                            <option value="draft">ูุณูุฏุฉ</option>
                            <option value="archived">ูุคุฑุดูุฉ</option>
                        </select>
                        
                        <select id="levelFilter" class="filter-select" onchange="filterCourses()">
                            <option value="">ุฌููุน ุงููุณุชููุงุช</option>
                            <option value="ูุจุชุฏุฆ">ูุจุชุฏุฆ</option>
                            <option value="ูุชูุณุท">ูุชูุณุท</option>
                            <option value="ูุชูุฏู">ูุชูุฏู</option>
                        </select>
                        
                        <select id="priceFilter" class="filter-select" onchange="filterCourses()">
                            <option value="">ุฌููุน ุงูุฃุณุนุงุฑ</option>
                            <option value="free">ูุฌุงูู</option>
                            <option value="paid">ูุฏููุน</option>
                        </select>
                        
                        <button class="btn btn-outline" onclick="resetFilters()">ุฅุนุงุฏุฉ ุชุนููู</button>
                    </div>
                </div>

                <!-- ุฌุฏูู ุงูุฏูุฑุงุช -->
                <div class="table-card">
                    <div class="table-header">
                        <h3>ูุงุฆูุฉ ุงูุฏูุฑุงุช</h3>
                        <div class="table-controls">
                            <select class="items-per-page" onchange="changeItemsPerPage(this.value)">
                                <option value="10">10 ุนูุงุตุฑ</option>
                                <option value="25" selected>25 ุนูุตุฑ</option>
                                <option value="50">50 ุนูุตุฑ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="table-body">
                        <table class="data-table" id="coursesTable">
                            <thead>
                                <tr>
                                    <th>
                                        <input type="checkbox" class="select-all" onchange="toggleSelectAll(this)">
                                    </th>
                                    <th>ุงูุฏูุฑุฉ</th>
                                    <th>ุงููุฏุฑุจ</th>
                                    <th>ุงููุณุชูู</th>
                                    <th>ุงูุณุนุฑ</th>
                                    <th>ุงููุดุชุฑููู</th>
                                    <th>ุงูุชูููู</th>
                                    <th>ุงูุญุงูุฉ</th>
                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="coursesTableBody">
                                <!-- ุณุชูุญููู ุฏููุงููููุงู -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="table-footer">
                        <div class="pagination-info">
                            ุนุฑุถ <span id="showingFrom">1</span> ุฅูู <span id="showingTo">25</span> ูู <span id="totalItems">0</span> ุนูุตุฑ
                        </div>
                        <div class="pagination" id="coursesPagination">
                            <!-- ุณุชูุญููู ุฏููุงููููุงู -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ุจุงูู ุงูุตูุญุงุช ุณุชูุถุงู ูู ุงููููุงุช ุงูุชุงููุฉ -->
            <div id="usersPage" class="admin-page">
                <div class="page-header">
                    <h1>ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</h1>
                    <p>ูุฑูุจุงู...</p>
                </div>
            </div>

            <div id="paymentsPage" class="admin-page">
                <div class="page-header">
                    <h1>ุฅุฏุงุฑุฉ ุงููุฏููุนุงุช</h1>
                    <p>ูุฑูุจุงู...</p>
                </div>
            </div>

            <div id="contentPage" class="admin-page">
                <div class="page-header">
                    <h1>ุฅุฏุงุฑุฉ ุงููุญุชูู</h1>
                    <p>ูุฑูุจุงู...</p>
                </div>
            </div>

            <div id="analyticsPage" class="admin-page">
                <div class="page-header">
                    <h1>ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช</h1>
                    <p>ูุฑูุจุงู...</p>
                </div>
            </div>
        </div>
    </main>

    <!-- ุงูููุงูุฐ ุงูููุจุซูุฉ -->
    
    <!-- ูุงูุฐุฉ ุฅูุดุงุก ุฏูุฑุฉ ุฌุฏูุฏุฉ -->
    <div id="createCourseModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h2>ุฅูุดุงุก ุฏูุฑุฉ ุชุฏุฑูุจูุฉ ุฌุฏูุฏุฉ</h2>
                <button class="modal-close" onclick="closeCreateCourseModal()">&times;</button>
            </div>
            
            <div class="modal-body">
                <form id="createCourseForm" class="course-form">
                    <!-- ูุนูููุงุช ุฃุณุงุณูุฉ -->
                    <div class="form-section">
                        <h3>ุงููุนูููุงุช ุงูุฃุณุงุณูุฉ</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="courseTitle">ุนููุงู ุงูุฏูุฑุฉ *</label>
                                <input type="text" id="courseTitle" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="courseInstructor">ุงููุฏุฑุจ *</label>
                                <input type="text" id="courseInstructor" name="instructor" value="ูุญููุฏ ูุคุงุฏ" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="courseDescription">ูุตู ูุฎุชุตุฑ *</label>
                            <textarea id="courseDescription" name="description" rows="3" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="courseFullDescription">ุงููุตู ุงูุชูุตููู</label>
                            <textarea id="courseFullDescription" name="fullDescription" rows="6"></textarea>
                        </div>
                    </div>

                    <!-- ุฅุนุฏุงุฏุงุช ุงูุฏูุฑุฉ -->
                    <div class="form-section">
                        <h3>ุฅุนุฏุงุฏุงุช ุงูุฏูุฑุฉ</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="courseLevel">ุงููุณุชูู *</label>
                                <select id="courseLevel" name="level" required>
                                    <option value="">ุงุฎุชุฑ ุงููุณุชูู</option>
                                    <option value="ูุจุชุฏุฆ">ูุจุชุฏุฆ</option>
                                    <option value="ูุชูุณุท">ูุชูุณุท</option>
                                    <option value="ูุชูุฏู">ูุชูุฏู</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="coursePrice">ุงูุณุนุฑ (ุฌููู) *</label>
                                <input type="number" id="coursePrice" name="price" min="0" step="0.01" value="0">
                            </div>
                            <div class="form-group">
                                <label for="courseDuration">ุงููุฏุฉ ุงููุชููุนุฉ</label>
                                <input type="text" id="courseDuration" name="duration" placeholder="ูุซุงู: 8 ุฃุณุงุจูุน">
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="courseIcon">ุฃููููุฉ ุงูุฏูุฑุฉ</label>
                                <input type="text" id="courseIcon" name="icon" placeholder="ูุซุงู: ๐" maxlength="2">
                            </div>
                            <div class="form-group">
                                <label for="courseStatus">ุญุงูุฉ ุงูุฏูุฑุฉ *</label>
                                <select id="courseStatus" name="status" required>
                                    <option value="draft">ูุณูุฏุฉ</option>
                                    <option value="active">ูุดุทุฉ</option>
                                    <option value="archived">ูุคุฑุดูุฉ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="courseIsFree" name="isFree" onchange="togglePriceField()">
                                    ุฏูุฑุฉ ูุฌุงููุฉ
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- ูุญุชูู ุงูุฏูุฑุฉ -->
                    <div class="form-section">
                        <h3>ูุญุชูู ุงูุฏูุฑุฉ</h3>
                        <div id="courseSections">
                            <!-- ุณุชูุถุงู ุงูุฃูุณุงู ุฏููุงููููุงู -->
                        </div>
                        <button type="button" class="btn btn-outline" onclick="addCourseSection()">
                            <span>โ</span> ุฅุถุงูุฉ ูุณู ุฌุฏูุฏ
                        </button>
                    </div>

                    <!-- ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ -->
                    <div class="form-section">
                        <h3>ุฅุนุฏุงุฏุงุช ูุชูุฏูุฉ</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="courseStartDate">ุชุงุฑูุฎ ุงูุจุฏุงูุฉ</label>
                                <input type="datetime-local" id="courseStartDate" name="startDate">
                            </div>
                            <div class="form-group">
                                <label for="courseEndDate">ุชุงุฑูุฎ ุงูููุงูุฉ</label>
                                <input type="datetime-local" id="courseEndDate" name="endDate">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="coursePrerequisites">ุงููุชุทูุจุงุช ุงูุณุงุจูุฉ</label>
                            <textarea id="coursePrerequisites" name="prerequisites" rows="3"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="courseTags">ุงููููุงุช ุงูููุชุงุญูุฉ (ููุตููุฉ ุจููุงุตู)</label>
                            <input type="text" id="courseTags" name="tags" placeholder="ุชุทููุฑ ุฐุงุชูุ ุนูู ููุณุ ุชุฃูู">
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeCreateCourseModal()">ุฅูุบุงุก</button>
                <button type="button" class="btn btn-primary" onclick="saveDraft()">ุญูุธ ููุณูุฏุฉ</button>
                <button type="submit" form="createCourseForm" class="btn btn-success">ุฅูุดุงุก ุงูุฏูุฑุฉ</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงูุฅุดุนุงุฑุงุช -->
    <div id="notificationsPanel" class="notifications-panel">
        <div class="notifications-header">
            <h3>ุงูุฅุดุนุงุฑุงุช</h3>
            <button class="btn-link" onclick="markAllAsRead()">ุชุนููู ุงููู ูููุฑูุก</button>
        </div>
        <div class="notifications-body" id="notificationsList">
            <!-- ุณุชูุญููู ุฏููุงููููุงู -->
        </div>
    </div>

    <!-- ุชุญููู ุงูููุชุจุงุช ูุงูุณูุฑูุจุช -->
    <script src="../shared/js/main.js"></script>
    <script src="../shared/js/auth.js"></script>
    <script src="../shared/js/admin.js"></script>
    <script src="../shared/js/course-manager.js"></script>
</body>
</html>
